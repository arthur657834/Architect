set key value [ex 秒数] [px 毫秒数] [nx/xx] : 保存key-value
* ex、px指的是key的有效期。
* nx：表示当key不存在时，创建key并保存value
* xx：表示当key存在时，保存value

分布式锁的目标，我们必须首先明确三点：
1. 任何一个时间点必须只能够有一个客户端拥有锁。
2. 不能够有死锁，也就是最终客户端都能够获得锁，尽管可能会经历失败。
2. 错误容忍性要好，只要有大部分的Redis实例存活，客户端就应该能够获得锁。

思路:
1. 先利用当前的时间戳与锁的过期时间相加后得出锁将要过期的时间，并把这个时间作为value，锁作为key调用setnx方法，如果返回1，证明原来这个key，也就是锁不存在，获取锁成功，则调用expire方法设置锁的超时时间，返回获取锁成功。

2. 如果setnx返回0，证明原来锁存在，没有获取到锁，然后调用get方法，获取第1步存进去的value，就是锁将要过期的时间，与当前的时间戳比较，如果如果当前的时间戳大于锁将要过期的时间，证明锁已经过期，调用getset方法，把新的时间存进去，返回获取锁成功。这样做主要是应对expire执行失败，或者服务器重启的情况下出现的锁无法释放的情况。

Tips:
1. 分布式redis获取锁需要考虑获取锁的时间
2. 随机延迟重试



